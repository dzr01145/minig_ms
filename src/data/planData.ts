import { AnnualSafetyPlan, PlanItem, SafetyGoal, PLAN_CATEGORY_LABELS } from '../types/plan';

// 保安方針サンプル
export const sampleSafetyPolicy = `1. 保安上の危険有害要因を把握し、危害及び鉱害の防止を図る。（３つの事故の型「墜落転落」「はさまれ巻込まれ」「飛来落下」に着目）
2. 本方針の実行にあたり、必要な経営資源を投入するとともに、効果的な改善を継続的に実施する。
3. 経営方針の中に保安を取り入れ、鉱山保安マネジメントシステムを適切に推進し、すべての鉱山労働者に対して保安確保が図られるよう行動する。
4. 保安確保は、良好なコミュニケーションのもとに実現されるとの認識に立ち、鉱山労働者の意見を尊重し、協力関係の下で、保安活動を実施する。
5. 法又はこれに基づく命令、保安規程等を順守するにあたり、鉱山労働者には必要な教育訓練を実施し、保安確保につなげる。`;

// サンプル保安目標
export const sampleSafetyGoal: SafetyGoal = {
  id: 'goal-2024',
  fiscalYear: 2024,
  mainGoal: '不休・休業災害ゼロを達成',
  priorityItems: [
    {
      category: 'ra',
      goals: [
        '３つの事故の型の洗い出しを徹底して行う',
        '転倒などの重篤災害に繋がりやすいリスクも積極的に洗い出す',
        '10～12月まで、３ヶ月間集中実施する',
        '9月までリスク低減措置を実施し、リスクレベルを「気になる」まで低減',
      ],
    },
    {
      category: 'meeting',
      goals: [
        '保安方針を周知させ、全員が理解する',
        '現場の課題を把握共有し、活発に問題解決の議論を行う',
        '保安会議：毎月、会議メンバーは全員参加',
      ],
    },
    {
      category: 'equipment',
      goals: [
        'ハード対策によりRAで見積もったリスクレベルを低減',
        '例年どおり運搬道路全域の整備を実施',
      ],
    },
    {
      category: 'activity',
      goals: [
        'KY・ヒヤリハット活動で危険に対する感性を高める',
        '保安規程、作業手順書を見直し全員に周知',
        '保安パトロールにより不安全状態・行動を洗い出す',
      ],
    },
    {
      category: 'education',
      goals: [
        '法令に対する理解とともに危険軽視、ルール無視を是正',
        '危険体感教育：1題材実施し、全員が参加',
        '資格取得：4名特別教育、2名技術保安管理士',
      ],
    },
    {
      category: 'other',
      goals: [
        '災害・重大ヒヤリ発生時には根本原因の十分な把握',
        '55歳以上の鉱山労働者全員の作業負荷に対する意識を把握',
        '健康診断：全ての従業員に受診させる',
      ],
    },
  ],
  createdAt: '2024-04-01T09:00:00',
  updatedAt: '2024-04-01T09:00:00',
};

// サンプル計画項目
export const samplePlanItems: PlanItem[] = [
  // RA関連
  {
    id: 'plan-1',
    category: 'ra',
    title: '新たなリスクの洗出し、評価、低減措置の検討',
    description: '３つの事故の型洗い出しを徹底。さらに転倒リスクも積極的に洗い出す',
    expectedEffect: '重大リスクの見落としを防ぎ、対策の優先度を明確化',
    targetValue: '10件以上洗い出し',
    responsible: '保安管理者・労働者',
    schedule: [
      { month: 4, planned: false, completed: false },
      { month: 5, planned: false, completed: false },
      { month: 6, planned: false, completed: false },
      { month: 7, planned: false, completed: false },
      { month: 8, planned: false, completed: false },
      { month: 9, planned: false, completed: false },
      { month: 10, planned: true, completed: true, completedDate: '2024-10-15' },
      { month: 11, planned: true, completed: true, completedDate: '2024-11-10' },
      { month: 12, planned: true, completed: false },
      { month: 1, planned: false, completed: false },
      { month: 2, planned: false, completed: false },
      { month: 3, planned: false, completed: false },
    ],
    manDays: 10,
    evaluation: '予定通り実施し、新たに8件を洗い出した。中長期的な観点のリスクが未抽出。',
    improvement: '設備老朽や開発区域拡大に関するRAを追加実施する',
    createdAt: '2024-04-01T09:00:00',
    updatedAt: '2024-11-15T09:00:00',
  },
  {
    id: 'plan-2',
    category: 'ra',
    title: '残留リスクの評価',
    description: '9月まで低減措置を実施した分の残留リスクを評価。リスクレベル「すごく心配」「心配」は全て「気になる」にする',
    expectedEffect: 'リスク低減措置の効果を確認し、継続検討事項を明確化',
    responsible: '保安管理者',
    schedule: [
      { month: 4, planned: false, completed: false },
      { month: 5, planned: false, completed: false },
      { month: 6, planned: false, completed: false },
      { month: 7, planned: false, completed: false },
      { month: 8, planned: false, completed: false },
      { month: 9, planned: true, completed: true, completedDate: '2024-09-25' },
      { month: 10, planned: false, completed: false },
      { month: 11, planned: false, completed: false },
      { month: 12, planned: false, completed: false },
      { month: 1, planned: false, completed: false },
      { month: 2, planned: false, completed: false },
      { month: 3, planned: false, completed: false },
    ],
    evaluation: '「心配」の残留リスクが2件ある',
    improvement: '残留リスク2件は次年度の設備対策で低減。継続的な措置を実施',
    createdAt: '2024-04-01T09:00:00',
    updatedAt: '2024-10-01T09:00:00',
  },
  // 保安会議
  {
    id: 'plan-3',
    category: 'meeting',
    title: '保安会議の開催',
    description: '毎月第1月曜日に開催。現場の課題を把握共有し、問題解決のための議論を活発に行う',
    expectedEffect: '保安情報の共有と問題解決の促進',
    targetValue: '12回/年、会議メンバー全員参加',
    responsible: '保安管理者・労働者',
    schedule: Array.from({ length: 12 }, (_, i) => ({
      month: i < 9 ? i + 4 : i - 8,
      planned: true,
      completed: i < 7,
      completedDate: i < 7 ? `2024-${String(i + 4).padStart(2, '0')}-05` : undefined,
    })),
    evaluation: '毎月実施したが報告事項が多く若干マンネリ気味',
    improvement: 'まずは現場の課題を明確にし、議論の活性化を図る',
    createdAt: '2024-04-01T09:00:00',
    updatedAt: '2024-10-15T09:00:00',
  },
  {
    id: 'plan-4',
    category: 'meeting',
    title: '保安集会での方針表明',
    description: '社長自らが保安方針と今年度の目標・計画を表明。全国鉱山保安週間中に再度周知',
    expectedEffect: '全員が保安方針を理解し、目標に向けて一丸となる',
    responsible: 'A社長',
    schedule: [
      { month: 4, planned: true, completed: true, completedDate: '2024-04-05' },
      { month: 5, planned: false, completed: false },
      { month: 6, planned: false, completed: false },
      { month: 7, planned: true, completed: true, completedDate: '2024-07-01' },
      { month: 8, planned: false, completed: false },
      { month: 9, planned: false, completed: false },
      { month: 10, planned: false, completed: false },
      { month: 11, planned: false, completed: false },
      { month: 12, planned: false, completed: false },
      { month: 1, planned: false, completed: false },
      { month: 2, planned: false, completed: false },
      { month: 3, planned: false, completed: false },
    ],
    evaluation: '社長自らが周知し、全員が理解できた',
    improvement: '今後も継続する',
    createdAt: '2024-04-01T09:00:00',
    updatedAt: '2024-07-05T09:00:00',
  },
  // 設備対策
  {
    id: 'plan-5',
    category: 'equipment',
    title: '手すり・防護柵の補修',
    description: 'RAで洗い出した手すり・防護柵の不具合箇所を補修',
    expectedEffect: '墜落転落リスクの低減',
    targetValue: '全箇所補修完了',
    responsible: '設備担当',
    budget: 500000,
    schedule: [
      { month: 4, planned: true, completed: true, completedDate: '2024-04-20' },
      { month: 5, planned: true, completed: true, completedDate: '2024-05-15' },
      { month: 6, planned: true, completed: true, completedDate: '2024-06-20' },
      { month: 7, planned: true, completed: true, completedDate: '2024-07-18' },
      { month: 8, planned: true, completed: true, completedDate: '2024-08-22' },
      { month: 9, planned: true, completed: false, note: '予算不足で一部未完了' },
      { month: 10, planned: false, completed: false },
      { month: 11, planned: false, completed: false },
      { month: 12, planned: false, completed: false },
      { month: 1, planned: false, completed: false },
      { month: 2, planned: false, completed: false },
      { month: 3, planned: false, completed: false },
    ],
    evaluation: '費用などの問題から手すり補修が出来なかった箇所あり。相談遅れあり。',
    improvement: '手すりは次年度以降対応。労働者は相談を早めに行うよう周知',
    createdAt: '2024-04-01T09:00:00',
    updatedAt: '2024-10-01T09:00:00',
  },
  {
    id: 'plan-6',
    category: 'equipment',
    title: '運搬道路の整備',
    description: '例年どおり、砕石を購入し運搬道路全域の整備を実施',
    expectedEffect: '転倒リスクの低減、運搬効率の維持',
    responsible: '設備担当',
    budget: 300000,
    schedule: [
      { month: 4, planned: false, completed: false },
      { month: 5, planned: true, completed: true, completedDate: '2024-05-25' },
      { month: 6, planned: false, completed: false },
      { month: 7, planned: false, completed: false },
      { month: 8, planned: false, completed: false },
      { month: 9, planned: false, completed: false },
      { month: 10, planned: true, completed: true, completedDate: '2024-10-20' },
      { month: 11, planned: false, completed: false },
      { month: 12, planned: false, completed: false },
      { month: 1, planned: false, completed: false },
      { month: 2, planned: false, completed: false },
      { month: 3, planned: false, completed: false },
    ],
    evaluation: '道路整備は予定通り実施',
    improvement: '道路整備は継続実施',
    createdAt: '2024-04-01T09:00:00',
    updatedAt: '2024-10-25T09:00:00',
  },
  // 保安活動
  {
    id: 'plan-7',
    category: 'activity',
    title: 'KY・ヒヤリハット活動',
    description: '全員参加で危険に対する感性を高める。想定ヒヤリ含め積極的に報告',
    expectedEffect: '危険予知能力の向上、潜在リスクの顕在化',
    targetValue: '全員参加、ヒヤリ30件/年',
    responsible: '全員',
    schedule: Array.from({ length: 12 }, (_, i) => ({
      month: i < 9 ? i + 4 : i - 8,
      planned: true,
      completed: i < 7,
    })),
    evaluation: '全員参加したものの両活動のマンネリ化を感じる。事例数の目標未達。',
    improvement: '想定ヒヤリ含め、多く提出した労働者の表彰を検討。重大ヒヤリは対策実施しRAにも繋げる。',
    createdAt: '2024-04-01T09:00:00',
    updatedAt: '2024-10-15T09:00:00',
  },
  {
    id: 'plan-8',
    category: 'activity',
    title: '保安パトロール',
    description: '不安全状態、不安全行動を洗い出す。技術基準省令などの順守チェック',
    expectedEffect: '現場の問題点の早期発見',
    targetValue: '月2回実施',
    responsible: '保安管理者',
    schedule: Array.from({ length: 12 }, (_, i) => ({
      month: i < 9 ? i + 4 : i - 8,
      planned: true,
      completed: i < 7,
    })),
    evaluation: '予定通り実施したが採掘場の法令順守チェックがまだ甘い',
    improvement: '技術基準省令などの順守チェックを強化する',
    createdAt: '2024-04-01T09:00:00',
    updatedAt: '2024-10-15T09:00:00',
  },
  // 保安教育
  {
    id: 'plan-9',
    category: 'education',
    title: '危険体感教育',
    description: '危険軽視、ルール無視を是正するための体感型教育',
    expectedEffect: '危険に対する意識向上',
    targetValue: '1題材実施、全員参加',
    responsible: '安全担当',
    schedule: [
      { month: 4, planned: false, completed: false },
      { month: 5, planned: false, completed: false },
      { month: 6, planned: false, completed: false },
      { month: 7, planned: false, completed: false },
      { month: 8, planned: false, completed: false },
      { month: 9, planned: true, completed: false },
      { month: 10, planned: true, completed: true, completedDate: '2024-10-18' },
      { month: 11, planned: true, completed: false },
      { month: 12, planned: false, completed: false },
      { month: 1, planned: false, completed: false },
      { month: 2, planned: false, completed: false },
      { month: 3, planned: false, completed: false },
    ],
    budget: 100000,
    evaluation: '墜落転落の体感教育を実施。参加率95%。',
    improvement: '次年度はさらに別の事故の型についても実施',
    createdAt: '2024-04-01T09:00:00',
    updatedAt: '2024-10-20T09:00:00',
  },
  {
    id: 'plan-10',
    category: 'education',
    title: '資格取得支援',
    description: '特別教育、技術保安管理士の資格取得を支援',
    expectedEffect: '保安管理能力の向上',
    targetValue: '特別教育4名、技術保安管理士2名',
    responsible: '保安管理者',
    schedule: [
      { month: 4, planned: false, completed: false },
      { month: 5, planned: true, completed: true, completedDate: '2024-05-20', note: '特別教育2名' },
      { month: 6, planned: false, completed: false },
      { month: 7, planned: false, completed: false },
      { month: 8, planned: true, completed: true, completedDate: '2024-08-25', note: '特別教育2名' },
      { month: 9, planned: false, completed: false },
      { month: 10, planned: false, completed: false },
      { month: 11, planned: true, completed: false, note: '技術保安管理士試験' },
      { month: 12, planned: false, completed: false },
      { month: 1, planned: false, completed: false },
      { month: 2, planned: false, completed: false },
      { month: 3, planned: false, completed: false },
    ],
    budget: 200000,
    createdAt: '2024-04-01T09:00:00',
    updatedAt: '2024-09-01T09:00:00',
  },
  // その他
  {
    id: 'plan-11',
    category: 'other',
    title: '健康診断',
    description: '全ての従業員に受診させ、その結果に基づいた保健指導を行う',
    expectedEffect: '従業員の健康管理、高年齢者の機能低下把握',
    targetValue: '受診率100%',
    responsible: '総務担当',
    schedule: [
      { month: 4, planned: false, completed: false },
      { month: 5, planned: true, completed: true, completedDate: '2024-05-30' },
      { month: 6, planned: false, completed: false },
      { month: 7, planned: false, completed: false },
      { month: 8, planned: false, completed: false },
      { month: 9, planned: false, completed: false },
      { month: 10, planned: false, completed: false },
      { month: 11, planned: true, completed: false },
      { month: 12, planned: false, completed: false },
      { month: 1, planned: false, completed: false },
      { month: 2, planned: false, completed: false },
      { month: 3, planned: false, completed: false },
    ],
    budget: 150000,
    createdAt: '2024-04-01T09:00:00',
    updatedAt: '2024-06-01T09:00:00',
  },
];

// サンプル年間保安計画
export const sampleAnnualPlan: AnnualSafetyPlan = {
  id: 'plan-2024',
  fiscalYear: 2024,
  safetyPolicy: sampleSafetyPolicy,
  safetyGoal: sampleSafetyGoal,
  planItems: samplePlanItems,
  previousYearReview: '2023年度は災害ゼロを継続したが、重大ヒヤリが2件発生。保安検査で砕鉱場手すりの指摘事項があった。',
  accidentStats: {
    over4weeks: 0,
    under4weeks: 0,
    hiyariCount: 12,
    inspectionIssues: '保安設備(手すり)の未設置',
  },
  status: 'in_progress',
  approvedBy: 'A社長',
  approvedDate: '2024-04-01',
  createdAt: '2024-04-01T09:00:00',
  updatedAt: '2024-10-15T09:00:00',
};
