# 🪟 Windows環境での簡単セットアップ方法

## ⚠️ 問題: npm install でエラーが発生する

Windowsで `npm install` を実行すると、以下のエラーが発生することがあります：

```
Cannot create symbolic link: ファイルを作成できません
```

**原因**: Windowsのセキュリティ制限により、シンボリックリンク作成に管理者権限が必要

---

## ✅ 解決方法（3つの選択肢）

### 【最も簡単】方法1: 完全版パッケージを使用

#### ステップ1: 完全版をダウンロード
- ファイル名: `mining-safety-app-complete.tar.gz`
- サイズ: 24MB
- 特徴: **npm install 不要！**

#### ステップ2: 展開ツールを使用

**7-Zipを使用する場合:**
1. 7-Zipをインストール（無料）
2. `mining-safety-app-complete.tar.gz` を右クリック
3. **「7-Zip」→「展開」**を選択
4. 2回展開（.tar.gz → .tar → フォルダ）

**WinRARを使用する場合:**
1. WinRARをインストール
2. `mining-safety-app-complete.tar.gz` をダブルクリック
3. 「展開」ボタンをクリック

#### ステップ3: すぐに起動！

```cmd
cd webapp
npm run dev
```

**node_modules が既に含まれているため、npm install は不要です！**

---

### 方法2: 管理者権限でコマンドプロンプトを起動

#### ステップ1: 管理者権限でターミナルを開く

**Windows 10/11の場合:**
1. **Windowsキー + X** を押す
2. **「ターミナル（管理者）」**を選択
3. ユーザーアカウント制御で「はい」をクリック

**または:**
1. スタートメニューで「cmd」を検索
2. **「コマンドプロンプト」を右クリック**
3. **「管理者として実行」**を選択

#### ステップ2: npm install を実行

```cmd
cd C:\展開したフォルダのパス\webapp
npm install
```

これで正常にインストールできます。

---

### 方法3: 開発者モードを有効にする

#### ステップ1: Windowsの設定を開く

**Windows 11の場合:**
1. **Windowsキー + I** で設定を開く
2. **「プライバシーとセキュリティ」**をクリック
3. **「開発者向け」**をクリック
4. **「開発者モード」をオン**に設定

**Windows 10の場合:**
1. **Windowsキー + I** で設定を開く
2. **「更新とセキュリティ」**をクリック
3. **「開発者向け」**をクリック
4. **「開発者モード」をオン**に設定

#### ステップ2: PCを再起動

#### ステップ3: 通常通り npm install を実行

```cmd
cd C:\展開したフォルダのパス\webapp
npm install
```

今度は管理者権限なしで実行できます。

---

## 🎯 推奨方法の比較

| 方法 | 難易度 | 時間 | メリット |
|-----|-------|------|---------|
| **完全版パッケージ** | ⭐ 簡単 | 即座 | npm install不要、すぐ起動 |
| **管理者権限** | ⭐⭐ 普通 | 2-5分 | 既存のソース版で対応可能 |
| **開発者モード** | ⭐⭐⭐ やや難 | 2-5分 | 今後の開発に便利 |

---

## 📦 パッケージの違い

### ソース版 (mining-safety-app-source-only.tar.gz)
- サイズ: 130KB（軽量）
- 内容: ソースコードのみ
- セットアップ: npm install が必要 (2-5分)
- 適用: 開発者、軽量ダウンロード希望

### 完全版 (mining-safety-app-complete.tar.gz)
- サイズ: 24MB
- 内容: ソースコード + node_modules
- セットアップ: **npm install 不要**、すぐ起動
- 適用: **Windows環境、すぐに使いたい場合**

---

## 🚀 完全版での起動手順（最短）

```cmd
# 1. 展開（7-Zip等で）
mining-safety-app-complete.tar.gz → 展開

# 2. フォルダに移動
cd webapp

# 3. 開発サーバー起動（すぐに起動！）
npm run dev

# 4. ブラウザでアクセス
http://localhost:5173
```

---

## 🔧 ログサーバー起動（オプション）

```cmd
cd webapp\server
node log-server.cjs
```

デフォルトポート: 3001

---

## ❓ よくある質問

### Q: どちらのパッケージを使うべき？

**A: Windows環境なら完全版がおすすめです**
- npm install のエラーを回避
- すぐに起動可能
- 24MBのダウンロードは現代の回線なら数秒〜数十秒

### Q: npm install に失敗したら？

**A: 以下を試してください**
1. 管理者権限でターミナルを開く
2. または、開発者モードを有効化
3. または、完全版パッケージに切り替え

### Q: 展開できない

**A: 展開ツールをインストール**
- 7-Zip（無料・推奨）: https://www.7-zip.org/
- WinRAR: https://www.winrar.com/

---

## 📞 サポート

問題が解決しない場合は、以下の情報を添えて問い合わせください：
- Windowsのバージョン
- エラーメッセージ全文
- 使用したパッケージ（ソース版/完全版）

---

**作成日**: 2025年12月2日
**対象OS**: Windows 10/11
